# Основы Git
*Задание для курса [Яндекс Практикум](https://practicum.yandex.ru/) "Основы работы с Git".*
## Зачем нужен Git?
Git позволяет отслеживать изменения в файлах. Свою информацию Git хранит в репозитории (хранилище).
После создания репозитория можно с помощью специальных команд фиксировать состояние отслеживаемых файлов, а затем просматривать изменения. При каждой фиксации можно добавлять комментарий, а при необхоимости можно восстановить состояние файлов в одно из зафиксированных состояний.

Зафиксированное состояние называется коммитом (commit). Коммиты создаются на ветках. В репозитории всегда есть основная ветка (master или main) и могут быть дополнительные.

Git относится к классу программ version control system (VCS) и его особенно удобно использовать для отслеживания изменений в текстовых файлах, например, программном коде. При работе с текстовыми файлами Git может показывать не только какие файлы изменились, но и построчные изменения в каждом файле.
## Как создать локальный репозиторий?
Для того, чтобы начать отслеживать изменения в папке надо создать репозиторий Git. Для этого надо перейти а папку и выполнить команду
``` bash
git init
```
Для указания файлов и папок, которые надо отслеживать, надо выполнить команду
``` bash
git add <имя файла>
```
или, чтобы добавить все файлы в папке
``` bash
git add .
```
Для просмотра статуса файлов (добавлен/изменён/удалён) и статуса отслеживания используется команда
``` bash
git status
```
Для фиксации изменений используется команда
``` bash
git commit
```
Для просмотра истории фиксаций используется команда
```bash
git log
```
## Цикл работы с локальным репозиторием.
Обычный цикл работы с Git после созданя репозитория выглядит следующим образом.
1. Создание/изменение файлов
2. Просмотр изменившихся файлов
``` bash
git status
```
3. Добавление файлов в список отслеживания
``` bash
git add 
```
4. После приведения файлов в состояние, которое хотим зафиксировать
``` bash
git commit
```
## Что такое GitHub?
[GitHub](https://github.com/) - это Web2 приложение (портал), которое позволяет создавать удалённые репозитории. 
После связывания локального и удалённого репозиториев, появлеятся возможность синхронизировать содержимое репозиториев. Это позволяет разным людям работать через Интернет с одним репозиторием. 
## Как создать удалённый репозиторий?
Для создания удалённого репозитория на [GitHub](https://github.com/) необходимо выполнить следующие шаги:
1. Открыть страницу Dashboard
2. Нажать кнопку `New`
3. Указать имя репозитория в поле `Repository name`
4. Выбрать тип репозитория: публичный или приватный и установить соответствующий переключатель
5. Нажать кнопку `Create Repository`
## Как связать локальный и удалённый репозитории?
После создания репозитория в голубом блоке будет указан адрес удалённого репозитория. Адрес будет начинаться с git@github.com:

Для установления связи локального и удалённого репозиториев необходимо выполнить команды
``` bash
git remote add origin <адрес удалённого репозитория>
git push -u origin main
```
После этого закомиченные изменения отправляются в удалённый репозиторий командой 
```
git push
```
## Что такое хеш коммита.
Хеш - это результат однонаправленного математического преобразования исходных данных произвольного размера в значение фиксированного размера. В Git для расчёта хеша используется алгоритм хеширования SHA-1, который на выходе даёт строку шестнадцатиричных цифр длиной 40 символов.
Расчёт хеша выполняется для каждого коммита. В качестве исходных данных для расчёта используется дата коммита,содержимое файлов в репозитории на момент выполнения коммита, ссылка на предыдущий или родительский коммит.
**Хеш является однозначным идентификатором коммита.** Значение хеша коммита используется в качестве аргумента для разных команд Git.  
Команда 
``` bash
git log
```
показывает полный хеш (40 символов) для каждого коммита.  
Команда 
``` bash
git log --oneline
```
показывает сокращённый хеш для каждого коммита. Количество выводимых символов хеша подбирается таким образом
, чтобы строка однозначно идентифицировала каждый коммит.
## Что такое HEAD 
HEAD - это синоним **последнего** коммита. Его можно использовать как аргумент в командах, чтобы указать на последний коммит.
Физически HEAD - это файл в папке `.git`. В файле содержится ссылка на другой файл `.git/refs/heads/main`. А уже в этом файле содержится значение хеша последнего коммита.
## Просмотр истории изменений
Для просмотра изменений, внесённых в репозиторий, используется команда
``` bash
git log
```
Команда выводит подробную историю каждого изменения:  
* Полный хеш коммита
* Автора изменения
* Дату изменения
* Комментарий к изменениям  

У последнего коммита указывается также ветка.  
Для просмотра изменений в виде `краткий хеш` `комментарий` используется команда 
``` bash
git log --oneline
```
## Статусы файлов в Git
Все файлы в Git делятся на 2 больших категории:  
1. **untracked (неотслеживаемые)** - Git видит эти файлы в рабочей папке, но не отслеживает изменения в них. В репозитории эти файлы отсутствуют.  
2. **tracked (отслеживаемые)** - файлы добавлены пользователем в список отслеживаемых и Git отслеживает все изменения в этих файлах.  
Если файл в рабочей папке идентичен файлу в репозитории, то его состояние просто **tracked (отслеживаемый)**.  
Если файл в рабочей папке изменён по сравнению с версией в репозитории или ещё не добавлен в репозиторий, то его статус - **modified (изменённый)**.  
Если при этом файл добавлен пользователем в список для очередного коммита, то его статус - **staged (в списке на коммит)**.  

Диаграмма переходов приведена ниже.

```mermaid
graph LR;
U("`**untracked** 
(неотслеживаемый)`")
S("`**staged** 
(в списке на коммит)`")
M("`**modified** 
(изменённый)`")
T("`**tracked** 
(отслеживаемый)`")

U -- "git add" --> S;
M -- "git add" --> S;
S -- "git commit" --> T;
T -- "внесение изменений" --> M;
S -- "внесение изменений" --> M;
```

## Как оформлять комментарии к коммитам
Главное требование к комментариям - они должны быть информативными и быть написаны в едином стиле.  
*Информативными* - значит по комментарию должно быть понятно, какие изменения были зафиксированы этим коммитом.  
*Единообразными* - значит должен быть выбран и строго соблюдаться единый стиль оформления: падежи, склонения, формы глаголов и т.д.  
Если используется Jira, то в коммит необходимо добавлять код задачи, которая была реализована в этом коммите.  
Если используется раздел Issues в GitHub, то в коммит необходимо добавлять номер issue, которая была закрыта этим коммитом.  
Желательно умещать комментарий в 72 символа, поскольку при выполнении команды `git log --oneline` в одну строку выводится именно такое количество символов.
